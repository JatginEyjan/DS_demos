# DS10 v0.3+ 完整设计方案

**版本**: v0.3-full  
**目标**: 情感记忆 + 对话深度 + 跨房间连锁  
**核心体验**: "深渊记住了你"

---

## 一、系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                      【v0.3+ 完整系统】                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   ┌──────────────┐    ┌──────────────┐    ┌──────────────┐ │
│   │  情境残留层   │    │  调查员画像   │    │  记忆回响层   │ │
│   │  Situational │◄──►│  Investigator│◄──►│   Echoes     │ │
│   │   Residue    │    │   Profile    │    │   of Memory  │ │
│   └──────┬───────┘    └──────┬───────┘    └──────┬───────┘ │
│          │                   │                   │         │
│          └───────────────────┼───────────────────┘         │
│                              ▼                             │
│                    ┌─────────────────┐                      │
│                    │   对话树系统     │                      │
│                    │ Dialogue Trees  │                      │
│                    └────────┬────────┘                      │
│                             │                              │
│                    ┌────────▼────────┐                      │
│                    │   动态文本生成   │                      │
│                    │ Dynamic Narrative│                      │
│                    └─────────────────┘                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 二、核心数据结构

### 2.1 全局游戏状态 (gameState)

```javascript
var gameState = {
    // 基础状态
    team: [],
    currentRoomIdx: 0,
    turnCount: 0,
    
    // v0.3+ 新增：调查员画像
    profile: {
        cautious: 0,      // 谨慎选择（使用侦查/交涉）
        aggressive: 0,    // 激进选择（使用战斗/强行）
        curious: 0,       // 好奇选择（探索未知对象）
        empathetic: 0,    // 共情选择（帮助NPC/理解他人）
        mystical: 0,      // 神秘倾向（使用神秘学/接触深渊）
        practical: 0,     // 实用主义（优先解决障碍）
        
        // 计算属性
        dominantTrait: function() { /* 返回主要特质 */ },
        traitCombo: function() { /* 返回特质组合ID */ }
    },
    
    // v0.3+ 新增：情境残留（按房间记录）
    roomResidues: {
        // 'roomId': { method: 'clever', cost: 'low', objectsSolved: [...], choices: [...] }
    },
    
    // v0.3+ 新增：全局记忆
    globalMemory: {
        clues: [],           // 获得的线索
        npcRelations: {},    // NPC关系值
        plotFlags: {},       // 剧情标记
        echoes: []           // 待触发的回响事件
    },
    
    // v0.3+ 新增：持久化数据
    persistent: {
        playCount: 0,        // 游戏次数
        endingsSeen: [],     // 已见结局
        accumulatedProfile: {} // 跨游戏累积画像
    }
};
```

### 2.2 房间状态扩展

```javascript
// 原有
var currentRoomState = { 
    solvedObjects: [], 
    unlockedExits: false 
};

// v0.3+ 扩展
var currentRoomState = {
    solvedObjects: [],
    unlockedExits: false,
    
    // 新增：本房间残留
    residue: {
        entries: [],       // 残留记录 [{type, content, timestamp}]
        dominantMethod: null, // 主要解决方法
        impact: 'low'      // low/medium/high 影响等级
    },
    
    // 新增：房间内的对话状态
    dialogueState: {
        activeNPC: null,   // 当前对话NPC
        dialogueHistory: [], // 对话历史
        availableTopics: [], // 可用话题
        exhaustedTopics: []  // 已耗尽话题
    },
    
    // 新增：临时效果
    temporaryEffects: []   // 如"照明增强"、"回声干扰"等
};
```

### 2.3 对象模板扩展

```javascript
// 扩展现有对象模板
var objectTemplates = {
    'debris': {
        id: 'debris',
        name: '堵塞通道的碎石堆',
        type: 'obstacle',
        icon: '🪨',
        desc: '通道被碎石部分堵塞...',
        
        // v0.3+ 新增：行动影响画像
        actions: [
            {
                id: 'force_push',
                name: '强行推开',
                desc: '用蛮力清理通道（力量判定）',
                profileImpact: { aggressive: 2, practical: 1 }, // 影响画像
                
                // v0.3+ 新增：残留标记
                residueTag: {
                    type: 'method',
                    value: 'force',
                    desc: '碎石堆被蛮力推开，散落一地'
                },
                
                // 原有判定逻辑...
            },
            {
                id: 'find_weakpoint',
                name: '寻找稳固点',
                desc: '侦查结构弱点（侦查判定，军人/考古学家优势）',
                profileImpact: { cautious: 1, curious: 1 },
                residueTag: {
                    type: 'method',
                    value: 'clever',
                    desc: '碎石堆被巧妙撬动，整齐地堆放在两侧'
                }
            }
        ],
        
        // v0.3+ 新增：残留影响其他房间
        crossRoomImpact: {
            'camp': {  // 影响营地房间
                condition: 'residue.method === "force"',
                effect: 'npc_comment_force',
                desc: '营地NPC会评论"听到巨响"'
            }
        }
    },
    
    // v0.3+ 新增：NPC对象（带对话树）
    'dying_marcus': {
        id: 'dying_marcus',
        name: '濒死的马库斯',
        type: 'npc',  // 新类型
        icon: '🤕',
        
        // NPC专属属性
        npcData: {
            attitude: 0,      // -10到10，态度值
            trustLevel: 0,    // 信任等级
            maxDialogues: 3,  // 最大对话次数（濒死状态）
            
            // 对话树
            dialogueTree: {
                root: {
                    id: 'root',
                    text: '马库斯虚弱地看着你们...',
                    choices: [
                        {
                            id: 'ask_mission',
                            text: '询问任务情况',
                            condition: null,
                            next: 'mission_reply',
                            profileImpact: { practical: 1 }
                        },
                        {
                            id: 'comfort',
                            text: '安慰他',
                            condition: null,
                            next: 'comfort_reply',
                            profileImpact: { empathetic: 2 }
                        },
                        {
                            id: 'ask_edmund',
                            text: '埃德蒙在哪里？',
                            condition: null,
                            next: 'edmund_info',
                            profileImpact: { aggressive: 1 },
                            clueCheck: 'hasClue("edmund_location")' // 如果有线索会不同
                        }
                    ]
                },
                mission_reply: {
                    id: 'mission_reply',
                    text: '「我们...太天真了...深渊不是威胁...是诱惑...」',
                    addClue: '深渊诱惑论',
                    choices: [
                        {
                            id: 'ask_more',
                            text: '继续询问',
                            next: 'deep_info',
                            cost: { type: 'marcus_strength', amount: 1 } // 消耗马库斯体力
                        },
                        {
                            id: 'let_rest',
                            text: '让他休息',
                            next: 'end_dialogue',
                            profileImpact: { empathetic: 1 }
                        }
                    ]
                }
                // ... 更多节点
            }
        }
    }
};
```

---

## 三、核心系统详解

### 3.1 情境残留系统 (Situational Residue)

**核心概念**: 每个房间的解决方式会留下"痕迹"，影响后续体验。

#### 残留类型

```javascript
const ResidueTypes = {
    METHOD: 'method',      // 解决方法: force/clever/magic/compassion
    COST: 'cost',          // 代价: high/medium/low
    DISCOVERY: 'discovery', // 发现: 获得的线索/道具
    SACRIFICE: 'sacrifice', // 牺牲: 失去的资源/SAN
    RELATION: 'relation'   // 关系: 与NPC的互动结果
};
```

#### 残留影响链

```
房间A（塌陷通道）
  ├─ 使用"强行推开" → 残留: {method: 'force', noise: 'high'}
  │   └─ 影响房间B（营地）: NPC对话增加"听到巨响"选项
  │       └─ 如果选择询问 → 获得线索"其他通道存在"
  │           └─ 影响房间C（分叉）: 解锁隐藏路径
  │
  └─ 使用"寻找稳固点" → 残留: {method: 'clever', noise: 'low'}
      └─ 影响房间B（营地）: 煤油灯还在燃烧（没人听到动静）
          └─ 可以选择"偷袭"对话选项
```

#### 代码实现

```javascript
// 解决对象时记录残留
function solveObject(objId, actionId, result) {
    const obj = objectTemplates[objId];
    const action = obj.actions.find(a => a.id === actionId);
    
    // 记录残留
    if (action.residueTag) {
        currentRoomState.residue.entries.push({
            type: action.residueTag.type,
            value: action.residueTag.value,
            desc: action.residueTag.desc,
            timestamp: Date.now()
        });
    }
    
    // 更新画像
    if (action.profileImpact) {
        updateProfile(action.profileImpact);
    }
    
    // 跨房间影响
    if (obj.crossRoomImpact) {
        scheduleCrossRoomImpact(objId, obj.crossRoomImpact);
    }
}

// 跨房间影响调度
function scheduleCrossRoomImpact(objId, impacts) {
    Object.keys(impacts).forEach(roomId => {
        const impact = impacts[roomId];
        gameState.globalMemory.echoes.push({
            triggerRoom: roomId,
            condition: impact.condition,
            effect: impact.effect,
            desc: impact.desc,
            sourceObject: objId
        });
    });
}
```

### 3.2 调查员画像系统 (Investigator Profile)

**核心概念**: 追踪玩家行为，生成独特的"调查员画像"，影响游戏反馈。

#### 画像维度

```javascript
const ProfileDimensions = {
    // 行动倾向
    CAUTIOUS: 'cautious',       // 谨慎（侦查优先、避免风险）
    AGGRESSIVE: 'aggressive',   // 激进（战斗优先、强行突破）
    CURIOUS: 'curious',         // 好奇（探索未知、触碰禁忌）
    EMPATHETIC: 'empathetic',   // 共情（帮助NPC、理解他人）
    MYSTICAL: 'mystical',       // 神秘（使用神秘学、接触深渊）
    PRACTICAL: 'practical',     // 实用（效率优先、解决障碍）
    
    // 叙事倾向（从对话选择计算）
    TRUTH_SEEKER: 'truthSeeker', // 追求真相
    SURVIVALIST: 'survivalist',  // 生存优先
    ALTRUIST: 'altruist',        // 利他主义
    PRAGMATIST: 'pragmatist'     // 务实主义
};
```

#### 画像计算

```javascript
function updateProfile(impact) {
    // 累加数值
    Object.keys(impact).forEach(trait => {
        gameState.profile[trait] = (gameState.profile[trait] || 0) + impact[trait];
    });
    
    // 计算主导特质
    calculateDominantTrait();
    
    // 计算特质组合（用于特殊结局）
    calculateTraitCombo();
    
    // 触发画像变化事件
    onProfileChange();
}

function calculateDominantTrait() {
    const traits = ['cautious', 'aggressive', 'curious', 'empathetic', 'mystical', 'practical'];
    let max = 0, dominant = null;
    
    traits.forEach(trait => {
        const value = gameState.profile[trait] || 0;
        if (value > max) {
            max = value;
            dominant = trait;
        }
    });
    
    gameState.profile.dominantTrait = dominant;
}

// 特质组合（如 "好奇+神秘" = 深渊探索者）
function calculateTraitCombo() {
    const comboMap = {
        'curious_mystical': '深渊探索者',
        'aggressive_practical': '效率执行者',
        'empathetic_cautious': '守护者',
        'curious_aggressive': '鲁莽调查员',
        'mystical_empathetic': '深渊共情者'
    };
    
    const sorted = Object.entries(gameState.profile)
        .filter(([k]) => !['dominantTrait', 'traitCombo'].includes(k))
        .sort((a, b) => b[1] - a[1])
        .slice(0, 2)
        .map(([k]) => k)
        .join('_');
    
    gameState.profile.traitCombo = comboMap[sorted] || '平衡型调查员';
}
```

#### 画像影响文本生成

```javascript
// 根据画像生成动态描述
function generateDynamicDesc(baseDesc, roomId) {
    let desc = baseDesc;
    const profile = gameState.profile;
    
    // 好奇特质：增加细节描述
    if (profile.curious > 3) {
        desc += '\n\n[好奇者视角] 你注意到一些其他人可能忽略的细节...';
    }
    
    // 神秘特质：感知深渊能量
    if (profile.mystical > 3 && roomId === 'abyss') {
        desc += '\n\n[神秘学感知] 你能感受到深渊脉动的节奏，它在...呼唤你？';
    }
    
    // 谨慎特质：额外风险警告
    if (profile.cautious > 3) {
        desc += '\n\n[风险评估] 你的直觉在警告你这个房间潜藏的危险。';
    }
    
    return desc;
}
```

### 3.3 记忆回响系统 (Echoes of Memory)

**核心概念**: 已探索的房间会通过"回响"影响当前体验，创造连贯感和"被记住"的感觉。

#### 回响触发时机

```javascript
const EchoTriggers = {
    ON_ENTER: 'onEnter',           // 进入房间时
    ON_ACTION: 'onAction',         // 执行行动时
    ON_SOLVE: 'onSolve',           // 解决对象时
    RANDOM: 'random',              // 随机触发
    CONDITIONAL: 'conditional'     // 条件触发
};
```

#### 回响事件结构

```javascript
const echoEvents = [
    {
        id: 'echo_entrance_symbol',
        trigger: { type: 'onEnter', room: 'collapse' },
        condition: 'gameState.roomResidues.entrance?.hasSolved?.includes("entrance_symbol")',
        text: '你突然想起入口处的那个符号...那些线条似乎和这堵墙上的划痕有某种联系。',
        effect: () => {
            // 解锁额外侦查选项
            unlockBonusAction('collapse', 'check_symbol_connection');
        }
    },
    {
        id: 'echo_diary_whisper',
        trigger: { type: 'onEnter', room: 'whisper' },
        condition: 'hasClue("colin_diary") && profile.curious > 2',
        text: '墙壁中的低语让你想起科林日记中的话：「我听到它们在呼唤我」...是同一种声音吗？',
        effect: () => {
            addSanity(-5); // 额外SAN损失
            addClue('低语与日记的联系');
        }
    },
    {
        id: 'echo_force_camp',
        trigger: { type: 'onEnter', room: 'camp' },
        condition: 'gameState.roomResidues.collapse?.residue?.dominantMethod === "force"',
        text: '营地的NPC紧张地看着你们：「刚才那声巨响是你们弄出来的？整个矿井都震动了...」',
        choices: [
            { text: '承认并询问', effect: () => { /* NPC更愿意分享信息 */ } },
            { text: '否认', effect: () => { /* NPC产生怀疑 */ } }
        ]
    }
];
```

#### 回响触发函数

```javascript
function checkAndTriggerEchoes(triggerType, roomId) {
    const relevantEchoes = echoEvents.filter(echo => {
        // 检查触发类型匹配
        if (echo.trigger.type !== triggerType) return false;
        if (echo.trigger.room && echo.trigger.room !== roomId) return false;
        
        // 检查条件
        try {
            return eval(echo.condition); // 简化示例，实际应使用安全评估
        } catch (e) {
            return false;
        }
    });
    
    relevantEchoes.forEach(echo => {
        // 显示回响文本
        showNarrative(echo.text, 'echo');
        
        // 执行效果
        if (echo.effect) echo.effect();
        
        // 如果有关联想选择
        if (echo.choices) {
            showEchoChoices(echo.choices);
        }
    });
}
```

### 3.4 对话树系统 (Dialogue Trees)

**核心概念**: 将NPC从单句回应扩展为多轮对话，创造深度交互。

#### 对话节点结构

```javascript
const DialogueNode = {
    id: 'unique_id',
    text: 'NPC说的话',
    
    // 条件显示
    condition: 'gameState.profile.empathetic > 2', // 可选
    
    // 情绪标签（影响UI表现）
    emotion: 'fearful', // calm/uneasy/fearful/dying/etc
    
    // 玩家选择
    choices: [
        {
            id: 'choice_id',
            text: '玩家说的话',
            
            // 条件
            condition: 'hasClue("xxx")', // 显示条件
            visibleCondition: 'true', // 可见条件（灰色显示）
            
            // 消耗
            cost: { type: 'npc_stamina', amount: 1 }, // 消耗NPC体力
            
            // 画像影响
            profileImpact: { empathetic: 1 },
            
            // 效果
            effect: () => { /* 立即效果 */ },
            
            // 下一节点
            next: 'next_node_id',
            
            // 结束对话标记
            endDialogue: false
        }
    ],
    
    // 自动效果（进入节点时执行）
    onEnter: () => { },
    
    // 添加线索
    addClue: '线索ID',
    
    // 改变NPC态度
    attitudeChange: 2
};
```

#### 对话状态机

```javascript
function startDialogue(npcId) {
    const npc = objectTemplates[npcId];
    const npcState = getOrCreateNPCState(npcId);
    
    // 设置当前对话
    currentRoomState.dialogueState = {
        activeNPC: npcId,
        currentNode: 'root',
        dialogueHistory: [],
        exhaustedTopics: [],
        remainingChances: npc.npcData.maxDialogues
    };
    
    // 渲染对话UI
    renderDialogueNode(npc.npcData.dialogueTree.root);
}

function renderDialogueNode(node) {
    // 检查条件
    if (node.condition && !eval(node.condition)) {
        // 条件不满足，跳过或显示默认
        return;
    }
    
    // 显示NPC文本（带情绪效果）
    showDialogueText(node.text, node.emotion);
    
    // 记录历史
    currentRoomState.dialogueState.dialogueHistory.push({
        speaker: 'npc',
        text: node.text,
        nodeId: node.id
    });
    
    // 执行自动效果
    if (node.onEnter) node.onEnter();
    if (node.addClue) addClue(node.addClue);
    if (node.attitudeChange) updateNPCAttitude(node.attitudeChange);
    
    // 渲染玩家选项
    const validChoices = node.choices.filter(c => {
        if (!c.condition) return true;
        try { return eval(c.condition); } catch(e) { return false; }
    });
    
    renderDialogueChoices(validChoices);
}

function selectDialogueChoice(choice) {
    // 记录玩家选择
    currentRoomState.dialogueState.dialogueHistory.push({
        speaker: 'player',
        text: choice.text,
        choiceId: choice.id
    });
    
    // 检查消耗
    if (choice.cost) {
        if (!consumeResource(choice.cost)) {
            showMessage('资源不足');
            return;
        }
    }
    
    // 应用画像影响
    if (choice.profileImpact) {
        updateProfile(choice.profileImpact);
    }
    
    // 执行效果
    if (choice.effect) choice.effect();
    
    // 消耗NPC对话机会
    currentRoomState.dialogueState.remainingChances--;
    
    // 检查是否结束
    if (choice.endDialogue || currentRoomState.dialogueState.remainingChances <= 0) {
        endDialogue();
        return;
    }
    
    // 进入下一节点
    const npc = objectTemplates[currentRoomState.dialogueState.activeNPC];
    const nextNode = npc.npcData.dialogueTree[choice.next];
    if (nextNode) {
        renderDialogueNode(nextNode);
    }
}
```

---

## 四、文本模板系统

### 4.1 动态文本生成

```javascript
// 文本模板引擎
const TextTemplates = {
    // 基础模板
    roomEntry: {
        base: '你进入了{roomName}。{roomDesc}',
        
        // 根据残留添加
        withResidue: {
            force: '\n\n[痕迹] 这里有人用蛮力破坏过的痕迹。',
            clever: '\n\n[痕迹] 这里的问题被巧妙地解决了，几乎看不出痕迹。',
            magic: '\n\n[痕迹] 空气中还残留着神秘的能量波动。'
        },
        
        // 根据画像添加
        withProfile: {
            cautious: '\n\n[直觉] 你的谨慎让你注意到潜在的危险信号。',
            curious: '\n\n[发现] 你的好奇心让你发现了额外的细节。',
            mystical: '\n\n[感知] 你的神秘学直觉捕捉到了异常能量。'
        }
    },
    
    // 对象描述模板
    objectDesc: {
        base: '{objectDesc}',
        solved: '\n\n[已解决] {residueDesc}'
    }
};

function generateText(templateKey, context) {
    const template = TextTemplates[templateKey];
    let text = template.base;
    
    // 替换基础变量
    text = text.replace(/\{(\w+)\}/g, (match, key) => context[key] || match);
    
    // 根据残留添加
    if (context.residue && template.withResidue[context.residue]) {
        text += template.withResidue[context.residue];
    }
    
    // 根据画像添加
    if (context.profile && template.withProfile[context.profile]) {
        text += template.withProfile[context.profile];
    }
    
    return text;
}
```

---

## 五、结局系统扩展

### 5.1 多结局条件

```javascript
const EndingConditions = {
    // 基础结局
    truth: {
        condition: 'hasClue("elena_truth") && gameState.profile.empathetic > 3',
        title: '📚 真相结局 - 理解者',
        text: '你用共情说服了埃德蒙...',
        epilogue: '调查员笔记：你相信理解比对抗更有力量，但这份理解也让你背负了更深的负担...'
    },
    
    // 画像专属结局
    hero_aggressive: {
        condition: 'gameState.profile.dominantTrait === "aggressive" && hasDefeated("edmund")',
        title: '⚔️ 英雄结局 - 无情的执行者',
        text: '你以压倒性的力量终结了威胁...',
        epilogue: '调查员笔记：效率就是一切。但当尘埃落定，你开始怀疑是否还有更好的方式...'
    },
    
    // 组合结局
    sacrifice_mystical: {
        condition: 'gameState.profile.traitCombo === "深渊共情者" && volunteeredSacrifice',
        title: '🔮 牺牲结局 - 深渊之门',
        text: '你理解了深渊的语言，选择成为它的守门人...',
        epilogue: '调查员笔记：你成为了你曾试图阻止的东西。但在深渊的彼端，你看到了其他人无法看到的真相...'
    },
    
    // 失败结局
    madness: {
        condition: 'team.some(inv => inv.san >= 100)',
        title: '💀 疯狂结局 - 深渊的呼唤',
        text: '理智的崩溃让你听到了深渊的真言...',
        epilogue: '调查员笔记：[数据损坏]...最终录音...笑声...「它们很友善」...'
    }
};
```

---

## 六、分阶段实施计划

### 阶段1: 基础架构 (2-3天)

**目标**: 搭建数据结构和基础函数

```
□ 扩展 gameState 结构
□ 扩展 currentRoomState 结构
□ 实现 updateProfile() 函数
□ 实现 solveObject() 残留记录
□ 本地存储持久化
```

### 阶段2: 情境残留 (2-3天)

**目标**: 房间解决方式影响后续体验

```
□ 为关键对象添加 residueTag
□ 实现跨房间影响调度
□ 添加3-5个回响事件
□ 测试残留影响链
```

### 阶段3: 对话系统 (3-4天)

**目标**: 马库斯NPC完整对话树

```
□ 实现 DialogueNode 结构
□ 实现对话状态机
□ 为 dying_marcus 设计完整对话树
□ 添加情绪表现（UI效果）
□ 测试多轮对话流程
```

### 阶段4: 画像系统 (2-3天)

**目标**: 行为追踪影响游戏体验

```
□ 为所有action添加 profileImpact
□ 实现画像计算和组合
□ 添加画像专属文本
□ 实现画像影响结局
□ 添加画像总结界面
```

### 阶段5: 回响扩展 (2-3天)

**目标**: 完整记忆回响网络

```
□ 设计10+回响事件
□ 实现回响触发系统
□ 添加回响选择分支
□ 测试跨房间叙事连贯性
```

### 阶段6: 整合测试 (2-3天)

**目标**: 全系统协调运行

```
□ 多周目数据累积测试
□ 不同画像路径测试
□ 结局多样性测试
□ 性能优化
□ Bug修复
```

**总计**: 约15-20天完整实现

---

## 七、技术实现要点

### 7.1 性能考虑

- **画像计算**: 仅在行动后计算，缓存结果
- **回响检查**: 按房间索引，避免全量扫描
- **文本生成**: 模板预编译，减少运行时替换
- **localStorage**: 压缩存储，定期清理

### 7.2 兼容性

- 移动端: 对话UI适配小屏幕
- 旧存档: 自动迁移到新结构
- 降级: 新系统失败时回退到简化版

### 7.3 调试工具

```javascript
// 画像查看器
debug.profile.show();

// 回响触发器
debug.echoes.trigger('echo_id');

// 残留查看器
debug.residue.show();

// 快速结局
debug.ending.trigger('truth');
```

---

## 八、风险评估

| 风险 | 概率 | 影响 | 缓解措施 |
|------|------|------|----------|
| 开发时间超预期 | 中 | 高 | 分阶段交付，优先核心功能 |
| 系统复杂度导致bug | 高 | 中 | 每阶段充分测试，保持回退方案 |
| 移动端性能问题 | 中 | 高 | 持续性能监控，必要时降级 |
| 叙事质量不达标 | 中 | 高 | Rhy审查每阶段文本 |
| 玩家理解困难 | 低 | 中 | 添加引导，第一局简化 |

---

## 九、成功标准

玩家完成 v0.3+ 后应该：

1. **感知到"选择有意义"** (问卷: 90%+ 认同)
2. **愿意重玩尝试不同路径** (数据: 30%+ 重玩率)
3. **记住关键NPC** (问卷: 能说出马库斯的故事)
4. **感受到"被记住"** (问卷: 80%+ 认同"游戏回应了我的选择")
5. **讨论不同结局** (社区: 主动分享结局体验)

---

*设计方案版本: v0.3-full-1*  
*等待 Rhy 确认或调整*
