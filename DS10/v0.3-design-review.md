# DS10 v0.3 体验预期与设计回顾

**回顾时间**: 2026-02-20
**回顾者**: 狗剩
**项目**: DS10 - 深渊调查员 (Abyss Investigator)

---

## 版本演进路线

```
v0.1 (已完成) → v0.2 (开发中) → v0.3+ (当前焦点)
```

| 版本 | 核心特性 | 状态 |
|------|----------|------|
| **v0.1** | 13房间叙事骨架，传统选择分支 | ✅ 已完成 |
| **v0.2** | Object系统 + 情境系统(解决度/恶化度) | ⚠️ 部分实现 |
| **v0.3** | 对话深度 + 情感记忆 | 🎯 当前聚焦 |

---

## 当前代码状态 (v0.3 简化版)

从 `index.html` 分析：

```javascript
// v0.3 简化系统 - 移除行动卡牌和解决度/恶化度系统
// v0.3 简化版（回合制+对象解决解锁出口）
```

**已移除**: 
- ❌ 解决度/恶化度双轨进度条
- ❌ 行动卡牌系统（侦查/战斗/交涉/神秘学）
- ❌ AP（行动点）机制

**保留**: 
- ✅ Object系统（碎石堆/日记/刻痕等可交互对象）
- ✅ 对象解决解锁出口机制
- ✅ 13房间完整结构
- ✅ 骰子判定（d100大成功/成功/失败/大失败）
- ✅ SAN值系统

---

## 原始 v0.3 设计预期

根据早期讨论，v0.3+ 应该聚焦：

### 1. 对话深度 (Dialogue Depth)

**预期实现**:
- NPC有完整的对话树，不只是单句回应
- 对话选择影响关系值和后续剧情
- 多轮对话才能获取完整信息

**当前缺口**:
- NPC交互目前只有单句回应
- 缺少对话树结构
- 没有关系值系统

### 2. 情感记忆 (Emotional Memory)

**预期实现**:
- 系统记录玩家的情感选择倾向
- 根据历史选择调整后续呈现
- 每个调查员有独特的"记忆回响"

**当前缺口**:
- 无情感追踪机制
- 房间/对象状态不持久（刷新重置）
- 缺少个性化反馈

---

## v0.3 设计问题诊断

### 问题1: 系统过度简化

**现状**: 移除了 v0.2 的"情境系统"（解决度/恶化度）

**反思**: 
- 简化让游戏失去了"渐进式压力"体验
- 对象解决变成了单纯的"点击解锁"
- 缺少"处境恶化"的叙事张力

**可选方案**:
```javascript
// 方案A: 完全简化（当前）
对象 → 解决 → 出口解锁

// 方案B: 轻度情境追踪（推荐）
对象 → 解决 → 获得线索/道具
线索 → 影响后续对话选项
道具 → 解锁特殊行动

// 方案C: 恢复 v0.2 完整系统
解决度/恶化度双轨 + 行动卡牌
```

### 问题2: 缺少情感深度

**现状**: 
- 13个房间有丰富文本描述
- 但交互方式单一（点击→骰子→结果）
- 没有"情感投入"的反馈

**期望体验**:
```
玩家应该感到：
✓ "这个选择很重要"
✓ "我的调查员在成长/崩溃"
✓ "我留下了痕迹"
✓ "再来一次会不同"
```

---

## 重构建议: v0.3 应该是什么

### 核心定位

> **"在深渊中留下痕迹"** - 每个选择都会改变调查员，而调查员的改变会改变游戏如何回应玩家。

### 三大支柱

#### 支柱1: 情境残留 (Situational Residue)

**机制**: 每个房间解决后，留下"痕迹"

```javascript
// 示例: 塌陷通道
解决碎石堆后：
- 留下"强行推开"或"巧妙撬动"的痕迹
- 影响后续房间的描述文本
- 影响营地NPC对你的态度
```

**实现**: 
- 新增 `residue` 字段到 roomStates
- 文本模板根据 residue 动态生成

#### 支柱2: 调查员画像 (Investigator Profile)

**机制**: 追踪玩家的行为模式

```javascript
profile: {
  cautious: 3,      // 谨慎选择次数
  aggressive: 2,    // 激进选择次数
  curious: 5,       // 探索未知次数
  empathetic: 1,    // 共情选择次数
}
```

**影响**:
- 某些对象只对特定画像开放
- 结局文本根据画像调整
- NPC对话回应画像

#### 支柱3: 记忆回响 (Echoes of Memory)

**机制**: 已离开的房间会"回响"

```javascript
// 在房间5（营地），如果房间1有未解之谜
log.add("你突然想起入口处的那个符号...")

// 触发回头探索的冲动
// 或提供新的理解视角
```

**实现**:
- 跨房间状态引用
- 延迟揭示机制
- 鼓励重玩

---

## 具体实现建议

### 短期 (1-2天)

1. **添加 Residue 系统**
   ```javascript
   // roomStates[roomId].residue = {
   //   method: 'force' | 'clever' | 'magic',
   //   cost: 'high' | 'low',
   //   time: Date.now()
   // }
   ```

2. **基础 Profile 追踪**
   - 简单计数器
   - 影响1-2个结局变体

3. **1-2个 Echo 事件**
   - 在营地/分叉路口触发
   - 引用之前的房间

### 中期 (3-5天)

1. **完整对话树**
   - NPC对象支持多轮对话
   - 对话选择影响 profile

2. **跨房间连锁**
   - 房间A的选择影响房间B的对象可用性
   - 收集品串联叙事

3. **个性化文本**
   - 根据 profile 生成描述差异
   - 不同调查员看到不同的细节

### 长期 (1-2周)

1. **情感记忆持久化**
   - localStorage 保存游戏历史
   - 多次游戏的累积效应

2. **Meta叙事层**
   - 游戏意识到玩家重玩
   - "你回来了...这次会不同吗？"

---

## 体验目标重申

玩家完成 DS10 v0.3 后应该：

| 感受 | 机制支撑 |
|------|----------|
| "我的选择有意义" | Residue 系统、Profile 画像 |
| "我想知道如果..." | Echo 回响、多结局 |
| "这个调查员是我的" | 个性化文本、行为反馈 |
| "深渊记住了我" | Meta层、重玩累积 |

---

## 下一步决策

**需要 Rhy 确认**:

1. **v0.3 方向选择**:
   - A) 保持简化，只加对话树
   - B) 轻度增强（Residue + Profile）
   - C) 完整 v0.2 系统 + v0.3 情感层

2. **优先级排序**:
   - 对话深度 vs 情感记忆 vs 跨房间连锁

3. **技术约束**:
   - 是否允许 localStorage 持久化？
   - 移动端性能限制？

---

*文档版本: v0.3-review-1*  
*等待 Rhy 反馈*
